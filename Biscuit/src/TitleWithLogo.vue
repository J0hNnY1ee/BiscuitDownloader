<script setup lang="ts">
import { ref } from "vue";
import { ElMessage } from "element-plus";

// æ—‹è½¬é€Ÿåº¦
const spinSpeed = ref(2); // åˆå§‹é€Ÿåº¦ä¸º 2s

// ç‚¹å‡»æ¬¡æ•°
const clickCount = ref(0); // ä½¿ç”¨ ref è®°å½•ç‚¹å‡»æ¬¡æ•°

// å¤„ç†å›¾æ ‡ç‚¹å‡»äº‹ä»¶
function handleIconClick() {
  spinSpeed.value = Math.max(0.1, spinSpeed.value - 0.2); // æ¯æ¬¡ç‚¹å‡»å‡å°‘ 0.2sï¼Œæœ€å°ä¸º 0.1s
  clickCount.value += 1; // ç‚¹å‡»æ¬¡æ•°åŠ  1

  // æ ¹æ®ç‚¹å‡»æ¬¡æ•°æ˜¾ç¤ºä¸åŒçš„æ¶ˆæ¯
  if (clickCount.value === 1) {
    ElMessage({
      message: "ä½ ç¬¬ä¸€æ¬¡ç‚¹å‡»äº†é¥¼å¹²ï¼Œé¥¼å¹²å¼€å§‹åŠ é€Ÿï¼ğŸª",
      type: "success",
      duration: 5000, // 3 ç§’åæ¶ˆå¤±
    });
  } else if (clickCount.value === 5) {
    ElMessage({
      message: "é¥¼å¹²è½¬çš„å¥½å¿«ï¼! ğŸªğŸª",
      type: "warning",
      duration: 5000,
    });
  } else if (clickCount.value === 10) {
    ElMessage({
      message: "ä¸èƒ½å†å¿«äº†ï¼ï¼ï¼ğŸªğŸªğŸªğŸª",
      type: "warning",
      duration: 5000,
    });
  } else if (clickCount.value === 15) {
    ElMessage({
      message: "åˆ«ç‚¹äº†ï¼Œé¥¼å¹²è¦æ™•äº†ï¼ï¼ï¼ğŸªğŸªğŸªğŸª",
      type: "warning",
      duration: 5000,
    });
  } else if (clickCount.value === 24) {
    ElMessage({
      message: "é‚£ä½ ç‚¹å§ï¼ï¼ï¼ğŸªğŸªğŸªğŸª",
      type: "warning",
      duration: 5000,
    });
  } else if (clickCount.value === 102) {
    ElMessage({
      message: "ä½ ä¸ä¼šè¿˜åœ¨ç‚¹å§ï¼ŸğŸªğŸªğŸªğŸª",
      type: "warning",
      duration: 5000,
    });
  } else if (clickCount.value === 204) {
    ElMessage({
      message: "ä½ æ˜¯ä¸æ˜¯åœ¨è¯•å›¾ç”¨ç‚¹å‡»æ¬¡æ•°æ‰“ç ´å®‡å®™çºªå½•ï¼ŸğŸªğŸªğŸªğŸª",
      type: "warning",
      duration: 5000,
    });
  } else if (clickCount.value === 300) {
    ElMessage({
      message: "ä½ çš„æ‰‹æŒ‡æ˜¯ä¸æ˜¯å·²ç»è¿›åŒ–æˆäº†â€˜ç‚¹å‡»æœºå™¨äººâ€™ï¼ŸğŸªğŸªğŸªğŸª",
      type: "warning",
      duration: 5000,
    });
  } else if (clickCount.value === 411) {
    ElMessage({
      message: "ä½ å·²ç»ç‚¹äº†411æ¬¡ï¼Œä½ å¥½èƒ½åšæŒï¼ğŸªğŸªğŸªğŸª",
      type: "warning",
      duration: 5000,
    });
  } else if (clickCount.value === 512) {
    ElMessage({
      message: "ä½ çš„æ‰‹æŒ‡æ˜¯ä¸æ˜¯å·²ç»å˜æˆäº†â€˜ç‚¹å‡»æ°¸åŠ¨æœºâ€™ï¼ŸğŸªğŸªğŸªğŸª",
      type: "warning",
      duration: 5000,
    });
  } else if (clickCount.value === 640) {
    ElMessage({
      message: "ä½ æ˜¯ä¸æ˜¯åœ¨è¯•å›¾ç”¨ç‚¹å‡»æ¬¡æ•°æ‹¯æ•‘ä¸–ç•Œï¼ŸğŸªğŸªğŸªğŸª",
      type: "warning",
      duration: 5000,
    });
  } else if (clickCount.value === 720) {
    ElMessage({
      message: "ä½ å‘ç°äº†éšè—çš„å½©è›‹ï¼Œè·å¾—ä¸€æšå‹‹ç« ï¼ğŸªğŸªğŸªğŸª",
      type: "warning",
      duration: 5000,
    });
  } else if (clickCount.value === 800) {
    ElMessage({
      message: "ä½ è§£é”äº†éšè—æˆå°±ï¼šç‚¹å‡»è¾¾äººï¼ğŸªğŸªğŸªğŸª",
      type: "warning",
      duration: 5000,
    });
  } else if (clickCount.value === 900) {
    ElMessage({
      message: "ä½ è§£é”äº†éšè—æˆå°±ï¼šç‚¹å‡»å¤§å¸ˆï¼ğŸªğŸªğŸªğŸª",
      type: "warning",
      duration: 5000,
    });
  } else if (clickCount.value === 1023) {
    ElMessage({
      message: "éš¾é“ï¼Œä½ ä¹Ÿåœ¨æœŸå¾…è¿™ä¸€åˆ»ï¼ŸğŸªğŸªğŸªğŸª",
      type: "warning",
      duration: 10000,
    });
  } else if (clickCount.value >= 1024) {
    ElMessage({
      message: "â™¥ï¸é¥¼å¹²çœŸçš„å¾ˆå–œæ¬¢ä½ â™¥ï¸",
      type: "success",
      duration: 5000,
    });
  } else {
    ElMessage({
      message: `ä½ ç‚¹å‡»äº†é¥¼å¹²`,
      type: "info",
      duration: 1000,
      grouping: true,
    });
  }
}
</script>

<template>
  <h1 class="title">
    <!-- ç‚¹å‡»æ¬¡æ•°å¡ç‰‡ -->
    <div class="click-count-card" v-if="clickCount > 0">
      {{ clickCount >= 1024 ? 'ğŸªâ™¥ï¸ğŸ‘¸' : `Clicks: ${clickCount}` }}
    </div>

    <!-- é¥¼å¹²å›¾æ ‡å’Œæ ‡é¢˜ -->
    <span
      class="icon spin"
      @click="handleIconClick"
      :style="{ animationDuration: `${spinSpeed}s` }"
      >ğŸª</span
    >
    <!-- åŠ¨æ€ç»‘å®š animationDuration -->
    BiscuitDownloader
  </h1>
</template>

<style scoped>
/* æ ‡é¢˜æ ·å¼ */
.title {
  font-family: "Pacifico", cursive, sans-serif; /* ä½¿ç”¨è‰ºæœ¯å­—ä½“ */
  font-size: 3rem; /* è°ƒæ•´å­—ä½“å¤§å° */
  color: var(--card-text-color); /* ä½¿ç”¨ä¸»é¢˜é¢œè‰² */
  text-align: center; /* å±…ä¸­ */
  margin: 40px 0 20px 0; /* è°ƒæ•´é—´è·ï¼šä¸Š 40pxï¼Œä¸‹ 20px */
  display: flex; /* ä½¿ç”¨ flex å¸ƒå±€ */
  align-items: center; /* å‚ç›´å±…ä¸­ */
  justify-content: center; /* æ°´å¹³å±…ä¸­ */
  position: relative; /* ç›¸å¯¹å®šä½ */
}

.title .icon {
  margin-right: 10px; /* å›¾æ ‡ä¸æ–‡å­—é—´è· */
  cursor: pointer; /* é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºä¸ºæ‰‹å‹ */
  font-size: 3rem; /* è°ƒæ•´å›¾æ ‡å¤§å° */
  color: #000; /* ç¡®ä¿å›¾æ ‡é¢œè‰² */
}

/* ç‚¹å‡»æ¬¡æ•°å¡ç‰‡æ ·å¼ */
.click-count-card {
  position: absolute; /* ç»å¯¹å®šä½ */
  left: 20px; /* è·ç¦»å·¦ä¾§ 20px */
  top: 50%; /* å‚ç›´å±…ä¸­ */
  transform: translateY(-50%); /* å‚ç›´å±…ä¸­ */
  background-color: var(--card-bg-color); /* èƒŒæ™¯é¢œè‰² */
  color: var(--card-text-color); /* æ–‡å­—é¢œè‰² */
  padding: 8px 16px; /* å†…è¾¹è· */
  border-radius: 8px; /* åœ†è§’ */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* é˜´å½± */
  font-size: 1rem; /* å­—ä½“å¤§å° */
  font-weight: bold; /* å­—ä½“åŠ ç²— */
  border: 1px solid var(--button-border-color); /* è¾¹æ¡† */
}

/* æ—‹è½¬åŠ¨ç”» */
@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

.icon.spin {
  display: inline-block; /* ç¡®ä¿å›¾æ ‡æ˜¯å†…è”å…ƒç´  */
  animation: spin linear infinite; /* ç¡®ä¿åŠ¨ç”»å±æ€§æ­£ç¡® */
  user-select: none; /* ç¦ç”¨æ–‡æœ¬é€‰æ‹© */
  transform-origin: center; /* ç¡®ä¿æ—‹è½¬ä¸­å¿ƒä¸ºå›¾æ ‡ä¸­å¿ƒ */
}
</style>
